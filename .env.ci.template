# Haven Institute CI/CD Environment Variables
# Copy this to .env.ci and configure with your values

# ===========================================
# DOCKER & DEPLOYMENT VARIABLES
# ===========================================

# Domain Configuration
DOMAIN=havenstudy.com

# Container Registry Images
FRONTEND_IMAGE=ghcr.io/haven-technologies-inc/haveninstitute-frontend:main-latest
BACKEND_IMAGE=ghcr.io/haven-technologies-inc/haveninstitute-backend:main-latest

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

DB_NAME=haven_institute
DB_USER=haven_user
DB_PASSWORD=your_secure_database_password_here
DB_ROOT_PASSWORD=your_root_password_here

# ===========================================
# REDIS CONFIGURATION
# ===========================================

REDIS_PASSWORD=your_secure_redis_password_here

# ===========================================
# STRIPE CONFIGURATION
# ===========================================

STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here
STRIPE_PRO_MONTHLY_PRICE_ID=price_your_pro_monthly_id
STRIPE_PRO_YEARLY_PRICE_ID=price_your_pro_yearly_id
STRIPE_PREMIUM_MONTHLY_PRICE_ID=price_your_premium_monthly_id
STRIPE_PREMIUM_YEARLY_PRICE_ID=price_your_premium_yearly_id

# ===========================================
# AI PROVIDER CONFIGURATION
# ===========================================

# AI Provider (Primary: DeepSeek)
AI_PROVIDER=deepseek
DEEPSEEK_API_KEY=sk-your-deepseek-api-key-here
DEEPSEEK_MODEL=deepseek-chat

# OpenAI (Secondary)
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-4o-mini

# Grok/xAI (Tertiary)
GROK_API_KEY=xai-your-grok-api-key-here
GROK_MODEL=grok-beta

# AI Fallback Order
AI_FALLBACK_ORDER=deepseek,openai,grok

# ===========================================
# RATE LIMITING (Production Optimized)
# ===========================================

# General API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200

# Authentication Rate Limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=50

# AI Tutor Rate Limiting
AI_RATE_LIMIT_WINDOW_MS=60000
AI_RATE_LIMIT_MAX_REQUESTS=30

# ===========================================
# SECURITY CONFIGURATION
# ===========================================

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_minimum_32_characters
JWT_EXPIRES_IN=1h
JWT_REFRESH_SECRET=your_super_secret_refresh_key_minimum_32_characters
JWT_REFRESH_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your_session_secret_change_in_production
BCRYPT_ROUNDS=12

# ===========================================
# EMAIL CONFIGURATION
# ===========================================

ENABLE_EMAIL=true
EMAIL_PROVIDER=zeptomail
ZOHO_SMTP_HOST=smtp.zeptomail.com
ZOHO_SMTP_PORT=465
ZOHO_SMTP_USER=emailapikey
ZOHO_SMTP_PASSWORD=your-zeptomail-api-key-here
ZOHO_FROM_EMAIL=info@havenstudy.com
ZOHO_FROM_NAME=Haven Institute

# ===========================================
# CORS CONFIGURATION
# ===========================================

CORS_ORIGIN=https://havenstudy.com,https://www.havenstudy.com

# ===========================================
# LOGGING CONFIGURATION
# ===========================================

LOG_LEVEL=info
NODE_ENV=production

# ===========================================
# MONITORING & HEALTH CHECKS
# ===========================================

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# ===========================================
# BACKUP CONFIGURATION
# ===========================================

# Automated Backups
ENABLE_AUTO_BACKUP=true
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *

# ===========================================
# SSL & SECURITY
# ===========================================

# SSL Certificate Email
ACME_EMAIL=admin@havenstudy.com

# Security Headers
ENABLE_SECURITY_HEADERS=true
ENABLE_CSP=true
